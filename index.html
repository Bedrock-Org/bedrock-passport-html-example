<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Orange ID Demo</title>
    <!-- Load required libraries -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://public-cdn-files.pages.dev/bedrock-passport.umd.js"></script>
    <!-- Optional: Include Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
      body {
        font-family: sans-serif;
        background-color: #f9fafb;
        margin: 0;
        padding: 2rem;
      }
      #bedrock-login-widget {
        max-width: 480px;
        margin: 2rem auto;
      }
      h1 {
        text-align: center;
        font-size: 2rem;
        margin-bottom: 1rem;
      }
    </style>
  </head>
  <body>
    <!-- This is the widget container -->
    <div id="bedrock-login-widget"></div>
    
    <script>
      (function () {
        // Check that required libraries are loaded
        if (!window.React || !window.ReactDOM || !window.Bedrock) {
          console.error("Error: Required libraries not loaded.");
          document.getElementById("bedrock-login-widget").innerText = "Error loading authentication widget. Please check your internet connection.";
          return;
        }

        // Configuration for Bedrock Passport
        const bedrockConfig = {
          baseUrl: "https://api.bedrockpassport.com", // Base API URL â€“ no need to change this.
          authCallbackUrl: window.location.origin, // For production, ensure you have a dedicated auth callback page (e.g. /auth/callback) if desired.
          tenantId: "orange-abc123", // Your assigned tenant ID.
        };

        const container = document.getElementById("bedrock-login-widget");
        const root = ReactDOM.createRoot(container);

        // Render login widget with grouped options:
        root.render(
          React.createElement(
            Bedrock.BedrockPassportProvider,
            bedrockConfig,
            React.createElement(Bedrock.LoginPanel, {
              // Content options
              title: "Sign in to",
              logo: "https://irp.cdn-website.com/e81c109a/dms3rep/multi/orange-web3-logo-v2a-20241018.svg",
              logoAlt: "Orange Web3",
              walletButtonText: "Connect Wallet",
              showConnectWallet: false,
              separatorText: "OR",

              // Feature toggles
              features: {
                enableWalletConnect: false,
                enableAppleLogin: true,
                enableGoogleLogin: true,
                enableEmailLogin: true,
              },

              // Style options
              titleClass: "text-xl font-bold",
              logoClass: "ml-2 md:h-8 h-6",
              panelClass: "container p-2 md:p-8 rounded-2xl max-w-[480px]",
              buttonClass: "hover:border-orange-500",
              separatorTextClass: "bg-orange-900 text-gray-500",
              separatorClass: "bg-orange-900",
              linkRowClass: "justify-center",
              headerClass: "justify-center"
            })
          )
        );
      })();
    </script>
  </body>
</html>
